<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · KidneyExchange.jl</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><script src="../copy.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img src="assets/logo.png" alt="KidneyExchange.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href>KidneyExchange.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a></li><li><a class="tocitem" href="references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="KidneyExchange.jl"><a class="docs-heading-anchor" href="#KidneyExchange.jl">KidneyExchange.jl</a><a id="KidneyExchange.jl-1"></a><a class="docs-heading-anchor-permalink" href="#KidneyExchange.jl" title="Permalink"></a></h1><p>Documentation for KidneyExchange.jl</p><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.BP_info" href="#KidneyExchange.BP_info"><code>KidneyExchange.BP_info</code></a> — <span class="docstring-category">Type</span></header><section><div><p>BP_info</p><p>Mutable structure where extra information about the branch-and-price execution is stored</p><p><strong>Fields</strong></p><ul><li><code>LB::Float64</code>: best primal value</li><li><code>UB::Float64</code>: best dual value</li><li><code>nb_col_root::Int</code>: number of columns generated at root node</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/typedef.jl#L110-L119">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.BP_params" href="#KidneyExchange.BP_params"><code>KidneyExchange.BP_params</code></a> — <span class="docstring-category">Type</span></header><section><div><p>BP_params</p><p>Mutable structure where the options of the branch-and-price solver are stored</p><p><strong>Fields</strong></p><ul><li><code>optimizer::String</code>: LP and IP solver that will be used to solve the master (default is Cbc for IPs and GLPK for LPs)</li><li><code>verbose::Bool</code>: true if messages are printed during the solution (default = true)</li><li><code>is_pief::Bool</code>: true if the chains are considered in the master model using a position-indexed extended edge formulation (default = false)</li><li><code>fvs::Bool</code>: true if a feedback vertex set is used to reduce the number of graph copies (default = true)</li><li><code>reduce_vertices::Bool</code>: true if we try deleting useless vertices in graph copies (default = true)</li><li><code>is_column_disjoint::Bool</code>: true if we require column disjoint columns at each column generation iteration (default = true)</li><li><code>max_intersecting_columns::Int</code>: true maximum number of generated columns covering each vertex (default = 6)</li><li><code>is_tabu_list::Bool</code>: true if we stop solving a subproblem as soon as it does not produce any positive cost column; this subproblem will be considered again when proving optimality (default = true)</li><li><code>solve_master_IP::Bool</code>: true if we solve the master IP to find feasible solutions (default = true)</li><li><code>time_limit_master_IP::Float64</code>: time limit (seconds) at each solution of the master IP (default = 10.0)</li><li><code>freq_solve_master_IP::Int</code>: number of new columns that must be added in the master IP between two solutions of this IP (default = 1)</li><li><code>restart_for_IP::Bool</code>: true if the root node can be solved twice to generate more columns when the IP master could not prove optimality of the relaxation value (default = true)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/typedef.jl#L68-L86">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.BP_status" href="#KidneyExchange.BP_status"><code>KidneyExchange.BP_status</code></a> — <span class="docstring-category">Type</span></header><section><div><p>BP_params</p><p>Mutable structure where the results of the branch-and-price are stored</p><p><strong>Fields</strong></p><ul><li><code>bp_info::BP_info</code>: extra info about the branch-and-price execution</li><li><code>status::String</code>: status of solution: ON<em>GOING, OPTIMAL or TIME</em>LIMIT</li><li><code>objective_value::Float64</code>: objective value of the best solution found</li><li><code>relative_gap::Float64</code>: final relative optimality gap</li><li><code>best_cycles::Vector{Vector{Int}}</code>: selected cycles in the best primal value</li><li><code>best_chains::Vector{Vector{Int}}</code>: selected chains in the best primal value</li><li><code>node_count::Int</code>: total number of branch-and-bound nodes explored during the solution proces</li><li><code>solve_time::Float64</code>: time spent in the solution process; this might be different from the specified time limit even if status is TIME_LIMIT, since parsing and preprocessing is counted in cpu time</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/typedef.jl#L126-L140">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.Graph_copies" href="#KidneyExchange.Graph_copies"><code>KidneyExchange.Graph_copies</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Graph_copies</p><p>Mutable structure describing the copies of the graph: one copy per vertex or one copy per vertex of a feedback vertex set if the option is set.   It is important to note that the copies related to altruist donors always appear first in the list of copies</p><p><strong>Fields</strong></p><ul><li><code>sources::Vector{Int}</code>: source of each graph copy</li><li><code>is_vertex_list::Vector{BitVector}</code>: for each copy and each vertex, true if the vertex belongs to the copy</li><li><code>d_to_vstar_list::Vector{Vector{Int}}</code>: in each copy, distance from each vertex to the source</li><li><code>d_from_vstar_list::Vector{Vector{Int}}</code>: in each copy, distance from each vertex to the source</li><li><code>nb_copies::Int</code>: number of graph copies</li><li><code>is_arc_list::Vector{BitVector}</code>: for each copy and each arc index, true if the arc appears in the copy</li><li><code>chain_mip::Model</code>: shared MIP model that will be solved every time a chain subproblem needs to be solved to optimality</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/instance.jl#L76-L90">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.Instance" href="#KidneyExchange.Instance"><code>KidneyExchange.Instance</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Instance</p><p>Non-mutable structure describing the instance that is solved</p><p><strong>Fields</strong></p><ul><li><code>graph::SimpleDiGraph</code>: graph describing compatibilities between pairs and  with altruist donors</li><li><code>vertex_weight::Vector{Float64}</code>: weight of each vertex</li><li><code>edge_weight::Matrix{Float64}</code>: weight of each arc (0 if there is no arc)</li><li><code>pairs::Vector{Int}</code>: indices of the donor/patient pair vertices</li><li><code>altruists::Vector{Int}</code>: indices of the altruist donor vertices</li><li><code>nb_pairs::Int</code>: number of donor/patient pairs</li><li><code>nb_altruists::Int</code>: number of altruist donors</li><li><code>max_cycle_length::Int</code>: maximum length of a feasible exchange cycle</li><li><code>max_chain_length::Int</code>: maximum length of a feasible exchange chain</li><li><code>is_vertex_weighted::Bool</code>: true if all weights are actually on the vertices</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/instance.jl#L3-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.MIP_params" href="#KidneyExchange.MIP_params"><code>KidneyExchange.MIP_params</code></a> — <span class="docstring-category">Type</span></header><section><div><p>MIP_params</p><p>Mutable structure where the solving options of the compact formulation are stored</p><p><strong>Fields</strong></p><p>*<code>optimizer::String</code>: LP and IP solver that will be used to solve the master (default is Cbc for IPs and GLPK for LPs)</p><ul><li><code>verbose::Bool</code>: true if messages are printed during the solution (default = true)</li><li><code>model_type::Mip_model</code>: type of MIP compact model that is to be solved (default = HPIEF)</li><li><code>fvs::Bool</code>: true if a feedback vertex set is used to reduce the number of graph copies (default = true)</li><li><code>reduce_vertices::Bool</code>: true if we try deleting useless arcs in graph copies (default = true)</li><li><code>reduce_arcs::Bool</code>: true if we try deleting useless arcs in graph copies (default = true)</li><li><code>symmetry_break::Bool</code>: true if the MIP model is modified to reduce the number of optimal solutions (default = true)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/typedef.jl#L68-L81">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.Mip_model" href="#KidneyExchange.Mip_model"><code>KidneyExchange.Mip_model</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Mip_model</p><p>Enumerated structure specifying the considered formulation when solving a compact formulation of the kidney exchange problem</p><p><strong>Enumerate values</strong></p><ul><li><code>HPIEF</code>: Hybrid position-indexed extended formulation</li><li><code>EXTENDED_EDGE</code>: Cycles are handled with an extended edge formulation and  chains are handled with position-indexed variables</li><li><code>CYCLE_CUT</code>: Cycles are handled with an extended edge formulation and  chains are handled with cycle cuts to avoid long cycles</li><li><code>RELAXED_ARC</code>: Arc formulation where the size of cycles and chains are not considered</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/typedef.jl#L55-L65">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.PoolGenerator" href="#KidneyExchange.PoolGenerator"><code>KidneyExchange.PoolGenerator</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Compatibility graph generator based on the following paper:  Increasing the Opportunity of Live Kidney Donation by Matching for Two and Three Way Exchanges. S. L. Saidman, Alvin Roth, Tayfun Sonmez, Utku Unver, Frank Delmonico. Transplantation, Volume 81, Number 5, March 15, 2006.</p><p>This is known colloquially as the &quot;Saidman Generator&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/saidman_pool_generator.jl#L5-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.Bellman_Ford_cycle_search-Tuple{Graphs.SimpleGraphs.SimpleDiGraph, Vector{Float64}, Int64, Int64, BitVector, Vector{Vector{Int64}}, Vector{Float64}}" href="#KidneyExchange.Bellman_Ford_cycle_search-Tuple{Graphs.SimpleGraphs.SimpleDiGraph, Vector{Float64}, Int64, Int64, BitVector, Vector{Vector{Int64}}, Vector{Float64}}"><code>KidneyExchange.Bellman_Ford_cycle_search</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Bellman_Ford_cycle_search</code></pre><p>Bellman-Ford style search for one positive cost cycle</p><p><strong>Arguments</strong></p><ul><li><code>graph::SimpleDiGraph</code> : The directed graph with cost on each arc</li><li><code>arc_cost::Matrix{Float64}</code>:</li><li><code>source::Int</code> : The local vertex index from which starts the search</li><li><code>K::Int</code> : The maximal length of cycles</li><li>pred[k][v] contains u if u is a predecessor of v in a path of length k from source</li></ul><p><strong>Return values</strong></p><ul><li><code>cycle::Vector{Int}</code>: the positive cycle found, [] if none</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/subproblem.jl#L74-L88">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.MIP_chain_search" href="#KidneyExchange.MIP_chain_search"><code>KidneyExchange.MIP_chain_search</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">MIP_chain_search</code></pre><p>IP model with subtour elimination constraints. The constraints are the  generalized cutset inequalities (GCS) and they are added dynamically in a row generation algorithm. Refer for instance to the following reference for a presentation of the GCS: <a href="references/#Taccari2016">Leonardo Taccari (2016)</a>.</p><p><strong>Arguments</strong></p><ul><li><code>mip::Model</code>: The JuMP model initialized with the flow conservation constraints and the bound on the length of the chain</li><li><code>graph::SimpleDiGraph</code> : The directed graph with cost on each arc</li><li><code>source::Int</code>: Index of the source vertex</li><li><code>is_vertex::BitVector</code>: For each vertex, indicates if it is in the considered subgraph</li><li><code>arc_cost::Vector{Float64}</code>: Matrix of reduced costs of every arc</li></ul><p><strong>Return values</strong></p><ul><li><code>is_positivie_chain::Bool</code>: True if a positive chain was found</li><li><code>chain::Vector{Int}:</code> Positive chain that was found</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/subproblem.jl#L618-L634">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.SparseUNOSSaidmanPoolGenerator-Tuple{Int64}" href="#KidneyExchange.SparseUNOSSaidmanPoolGenerator-Tuple{Int64}"><code>KidneyExchange.SparseUNOSSaidmanPoolGenerator</code></a> — <span class="docstring-category">Method</span></header><section><div><p>A tweak to the published Saidman generator; distributions VERY ROUGHLY mimic the UNOS pool as of April 15, 2013.  Data taken from the KPD Work Group Data Analysis - CMR - June 2013 report. @author John P. Dickerson</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/saidman_pool_generator.jl#L43-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.activate_branching_constraints-Tuple{JuMP.Model, KidneyExchange.TreeNode, BP_params}" href="#KidneyExchange.activate_branching_constraints-Tuple{JuMP.Model, KidneyExchange.TreeNode, BP_params}"><code>KidneyExchange.activate_branching_constraints</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">activate_branching_constraints</code></pre><p>Activate the all the branching constraints corresponding to a given node of the branch-and-price enumeration tree.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/master.jl#L95-L99">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.bfs" href="#KidneyExchange.bfs"><code>KidneyExchange.bfs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">bfs</code></pre><p>Breadth-first search to calculate the shortest path in terms of number of arcs from source to other vertices of graph g. The search stops when it is at level K even if there is vertex to be visited. Because we are trying to find cycles of at most K length, vertices of level &gt;=K are never be considered in cycles.</p><p><strong>Input parameters</strong></p><ul><li><code>g::AbstractGraph{T}</code> : The graph</li><li><code>source::Int</code> : The source vertex</li><li><code>K::Int</code>: The maximum number of arcs</li><li><code>vertex_in_subgraph::Array{Bool}</code>: Table indicating for each vertex if it is in the subgraph under consideration</li></ul><p><strong>Output parameters</strong></p><ul><li><code>dists::Vector{Float64}</code>: shortest distance from source to vertices</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/preprocessing.jl#L240-L255">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.bfs_reverse" href="#KidneyExchange.bfs_reverse"><code>KidneyExchange.bfs_reverse</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">bfs_reverse</code></pre><p>Breadth-first search in the graph where arcs are reversed</p><p><strong>Input parameters</strong></p><ul><li><code>g::AbstractGraph{T}</code> : The graph</li><li><code>source::Int</code> : The source vertex</li><li><code>K::Int</code>: The maximum number of arcs</li><li><code>vertex_in_subgraph::Array{Bool}</code>: Table indicating for each vertex if it is in the subgraph under consideration</li></ul><p><strong>Output parameters</strong></p><ul><li><code>dists::Vector{Float64}</code>: shortest distance from source to vertices</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/preprocessing.jl#L192-L203">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.branch_and_price-Tuple{KidneyExchange.Instance, KidneyExchange.Graph_copies, BP_params, TimerOutput, Real}" href="#KidneyExchange.branch_and_price-Tuple{KidneyExchange.Instance, KidneyExchange.Graph_copies, BP_params, TimerOutput, Real}"><code>KidneyExchange.branch_and_price</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">branch_and_price</code></pre><p>Core function of the KEP solution with branch-and-price. It requires a parsed instance and the description of the graph copies. The column generation model is that of Riazcos-Alvarez et al (2020), but the many improvements have been added, in particular in the solution of the subproblem.</p><p><strong>Arguments</strong></p><ul><li><code>instance::Instance</code>: The parsed instance that is to be solved, it contains the KEP graph and the bounds on the length of covering cycles and chains</li><li><code>subgraphs::Graph_copies</code>: Description of the graph copies of the extended edge formulation</li><li><code>bp_params::BP_params</code>: solution parameters of the branch-and-price</li><li><code>timer::TimerOutput</code>: a timer that will provide detail of where the computational time was spent during the branch-and-price</li><li><code>time_limit::Float64</code>: time limit of the algorithm, including parsing and prepreprocessing times</li></ul><p>#Output parametes</p><ul><li><code>bp_status::BP_status</code>:  Structure containing every relevant information on the execution of the algorithm (including the optimal solution)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/branch_and_price.jl#L56-L70">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.branch_on_arc" href="#KidneyExchange.branch_on_arc"><code>KidneyExchange.branch_on_arc</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">branch_on_arc</code></pre><p>Update the branch-and-bound tree with two new nodes by branching on the given arc with the specified branching (only on master problem or both in master and in subproblem)</p><p><strong>Input parameters</strong></p><ul><li><code>arc_to_branch::Pair{Int,Int}</code> : The arc to be branched</li><li><code>master::Model</code>: Master model where the branching constraints are added</li><li><code>is_cg_branching::Bool</code>: True if the branching impacts the subproblem of the coluln generation, false if it impacts only the master problem</li><li><code>tree::Vector{TreeNode}</code>: Branch-and-bound tree</li><li><code>current_node::TreeNode</code>: Branch-and-bound node currently treated</li><li><code>column_pool::Vector{Column}</code>: Pool of all columns in current master problem</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/branch_and_price.jl#L298-L309">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.branch_on_vertex" href="#KidneyExchange.branch_on_vertex"><code>KidneyExchange.branch_on_vertex</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">branch_on_vertex</code></pre><p>Update the branch-and-bound tree with two new nodes by branching on the given vertex.</p><p><strong>Input parameters</strong></p><ul><li><code>vertex_to_branch::Int</code> : The arc to be branched</li><li><code>master::Model</code>: Master model where the branching constraints are added</li><li><code>tree::Vector{TreeNode}</code>: Branch-and-bound tree</li><li><code>current_node::TreeNode</code>: Branch-and-bound node currently treated</li><li><code>column_pool::Vector{Column}</code>: Pool of all columns in current master problem</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/branch_and_price.jl#L350-L360">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.build_hpief_mip" href="#KidneyExchange.build_hpief_mip"><code>KidneyExchange.build_hpief_mip</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">build_hpief_mip(instance, subgraphs, params; maxtime = 600)</code></pre><p>A compact MIP formulation originally proposed by <a href="references/#Dickerson2016">John P. Dickerson, David F. Manlove, Benjamin Plaut, Tuomas Sandholm, James Trimble (2016)</a>. The hybrid position indexed edge formulation (HPIEF) handles cycles and chains in the same formulation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/models/hpief.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.build_reduced_extended_edge_mip" href="#KidneyExchange.build_reduced_extended_edge_mip"><code>KidneyExchange.build_reduced_extended_edge_mip</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">build_reduced_extended_edge_mip(instance, subgraphs, params; maxtime = 600)</code></pre><p>A compact MIP formulation originally proposed by <a href="references/#Constantino2013">Miguel Constantino, Xenia Klimentova, Ana Viana, Abdur Rais (2013)</a> for the cycles-only variant of the problem. Here it is adapted to the graph copies based on FVS and chains are considered with position-indexed variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/models/reduced_extended_edge.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.check_used_vertices-Tuple{Vector{Int64}, Vector{Vector{Int64}}}" href="#KidneyExchange.check_used_vertices-Tuple{Vector{Int64}, Vector{Vector{Int64}}}"><code>KidneyExchange.check_used_vertices</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">check_used_vertices</code></pre><p>Gives a set of indices of cycle in cycles who have common vertices with cycle</p><p><strong>Arguments</strong></p><ul><li><code>cycle::Array{Int,1}</code>: The vertices of cycle</li><li><code>cycles::Array{Array{Int,1},1}</code>: The set of cycles</li></ul><p>#Output parametes</p><ul><li><code>redundant_cycle_indices::Array{Int,1}</code>: the set of indices of cycle in cycles who have common vertices with cycle</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/node.jl#L485-L497">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.compute_arc_flow-Tuple{Vector{Float64}, Vector{KidneyExchange.Column}}" href="#KidneyExchange.compute_arc_flow-Tuple{Vector{Float64}, Vector{KidneyExchange.Column}}"><code>KidneyExchange.compute_arc_flow</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">compute_arc_flow</code></pre><p>Calculates the relaxed value of the decision variable x<em>(i,j) of arc (i-&gt;j) in A. x</em>(i,j) whose value &gt;0 is stored in x::Dict{Pair{Int,Int}, Float64}</p><p><strong>Arguments</strong></p><ul><li><code>mastersol::Vector{Float64}</code>: solution value of the master problem, ie: y[c] for c in cycles</li><li><code>node_columns::Vector{Column}</code>: The corresponding cycles of current node</li></ul><p><strong>Return values</strong></p><ul><li><code>x:: Dict{Pair{Int,Int}, Float64}</code>: value of x_(i,j) of arc (i-&gt;j)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/node.jl#L578-L589">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.create_chain_mip-Tuple{Graphs.SimpleGraphs.SimpleDiGraph, Int64, String, Float64}" href="#KidneyExchange.create_chain_mip-Tuple{Graphs.SimpleGraphs.SimpleDiGraph, Int64, String, Float64}"><code>KidneyExchange.create_chain_mip</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_chain_mip</code></pre><p>Initialize the MIP model with cycle constraint generation for the optimal search of positive cost chains. Only one model is created for every copy to save a great amount of initialization time and memory. The model will then need to be modified for each graph copy to keep only the vertices of the graph and select the right source vertex</p><p><strong>Arguments</strong></p><ul><li><code>graph::SimpleDiGraph</code> : The directed graph with cost on each arc</li><li><code>L::Int</code>: The maximal length of chains</li><li><code>optimizer::String</code>: Name of the MIP sover</li><li><code>time_limit::Real</code>: Time limit of the solver</li><li><code>gurobi_env</code>: Gurobi environment if Guroib is used (avoids many messages from the solver)</li></ul><p>ln(&quot;   . solution found: &quot;, arcs, &quot;, objective value: &quot;, objective<em>value(mip))                 println(&quot;   . cost of other vertices = &quot;, [vertex</em>cost[e[2]] for e in arcs])                 println(&quot;   . the mip search did not find any positive cost chain&quot;)             end</p><p><strong>Return values</strong></p><ul><li><code>mip::Model</code>: Initial JuMP model for the search of a positive chain</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/subproblem.jl#L571-L588">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.deactivate_branching_constraints-Tuple{JuMP.Model, KidneyExchange.TreeNode, BP_params}" href="#KidneyExchange.deactivate_branching_constraints-Tuple{JuMP.Model, KidneyExchange.TreeNode, BP_params}"><code>KidneyExchange.deactivate_branching_constraints</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">deactivate_branching_constraints</code></pre><p>Deactivate the all the branching constraints corresponding to a given node of the branch-and-price enumeration tree.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/master.jl#L134-L138">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.drawPatientBlood_type-Tuple{KidneyExchange.PoolGenerator}" href="#KidneyExchange.drawPatientBlood_type-Tuple{KidneyExchange.PoolGenerator}"><code>KidneyExchange.drawPatientBlood_type</code></a> — <span class="docstring-category">Method</span></header><section><div><ul><li>Draws a random patient&#39;s blood type from the US distribution</li><li>@return Blood_type.{O,A,B,AB}</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/saidman_pool_generator.jl#L52-L55">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.generateAltruist-Tuple{KidneyExchange.PoolGenerator}" href="#KidneyExchange.generateAltruist-Tuple{KidneyExchange.PoolGenerator}"><code>KidneyExchange.generateAltruist</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Random rolls an altruistic donor (donor with no attached patient) @param ID unique identifier for the vertex @return altruistic donor vertex KPDVertexAltruist</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/saidman_pool_generator.jl#L167-L171">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.generatePair-Tuple{KidneyExchange.PoolGenerator}" href="#KidneyExchange.generatePair-Tuple{KidneyExchange.PoolGenerator}"><code>KidneyExchange.generatePair</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Randomly rolls a patient-donor pair (possibly compatible or incompatible) @param ID unique identifier for the vertex @return a patient-donor pair KPDVertexPair</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/saidman_pool_generator.jl#L148-L152">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.generatePraIncompatibility-Tuple{KidneyExchange.PoolGenerator, Bool}" href="#KidneyExchange.generatePraIncompatibility-Tuple{KidneyExchange.PoolGenerator, Bool}"><code>KidneyExchange.generatePraIncompatibility</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Randomly generates CPRA (Calculated Panel Reactive Antibody) for a patient-donor pair, using the Saidman method.  If the patient is the donor&#39;s wife, then CPRA is increased. @param isWifePatient is the patent the wife of the donor? @return scaled CPRA double value between 0 and 1.0</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/saidman_pool_generator.jl#L116-L122">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.generate_abraham_benchmark-Tuple{}" href="#KidneyExchange.generate_abraham_benchmark-Tuple{}"><code>KidneyExchange.generate_abraham_benchmark</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generate_abraham_benchmark</code></pre><p>Generate a benchmark using the same method as that used in <a href="references/#Abraham2007">David J. Abraham, Avrim Blum, Tuomas Sandholm (2007)</a></p><p>Abraham, David J., Avrim Blum, et Tuomas Sandholm. &quot;Clearing Algorithms for Barter Exchange Markets: Enabling Nationwide Kidney Exchanges&quot;. In Proceedings of the 8th ACM Conference on Electronic Commerce, 295‑304. EC ’07. New York, NY, USA: ACM, 2007. https://doi.org/10.1145/1250910.1250954.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/create_benchmark.jl#L67-L73">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.generate_complete_benchmark-Tuple{}" href="#KidneyExchange.generate_complete_benchmark-Tuple{}"><code>KidneyExchange.generate_complete_benchmark</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generate_complete_benchmark</code></pre><p>Generate all the instances that are used in addition to the PrefLib to assess the solution methods of this package in the article describing the package.</p><ul><li>add citation later*</li></ul><p>The instances are stored in the subdirectories <code>heterogeneous</code>, <code>sparse</code> and <code>saidman</code> of the <code>data</code> directory. Beware that if using the package with Pkg.add(), the <code>data</code> directory is in the directory where the package is stored.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/create_benchmark.jl#L84-L90">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.generate_heterogeneous_instance-Tuple{Int64, Int64, Int64}" href="#KidneyExchange.generate_heterogeneous_instance-Tuple{Int64, Int64, Int64}"><code>KidneyExchange.generate_heterogeneous_instance</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generate_heterogeneous_instance</code></pre><p>Generate a KEP dataset and write in two text files with extensions .dat and .wmd; the graph generator is based on the following article: Kidney Exchange in Dynamic Sparse Heterogeneous Pools. Itai Ashlagi, Patrick Jaillet, Vahideh H. Manshadi. EC-2013.  (Extended abstract.)</p><p><strong>Arguments</strong></p><ul><li><code>nb_pairs::Int</code>: number of pairs of incompatible donor and patient</li><li><code>nb_altruists::Int</code>: number of altruist donors</li><li><code>index::Int</code>: index of the dataset, which will appear in the filename</li></ul><pre><code class="nohighlight hljs"></code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/create_benchmark.jl#L49-L59">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.generate_heterogeneous_kep_graph" href="#KidneyExchange.generate_heterogeneous_kep_graph"><code>KidneyExchange.generate_heterogeneous_kep_graph</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Compatibility graph generator based on the following paper: Kidney Exchange in Dynamic Sparse Heterogeneous Pools. Itai Ashlagi, Patrick Jaillet, Vahideh H. Manshadi. EC-2013.  (Extended abstract.)  @author John P. Dickerson</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/heterogeneous_pool_generator.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.generate_saidman_instance-Tuple{Int64, Int64, Int64}" href="#KidneyExchange.generate_saidman_instance-Tuple{Int64, Int64, Int64}"><code>KidneyExchange.generate_saidman_instance</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generate_saidman_instance</code></pre><p>Generate a KEP dataset and write in two text files with extensions .dat and .wmd. This generator is usually refererred to as the &quot;Saidman Generator&quot;.</p><p><strong>Arguments</strong></p><ul><li><code>nb_pairs::Int</code>: number of pairs of incompatible donor and patient</li><li><code>nb_altruists::Int</code>: number of altruist donors</li><li><code>index::Int</code>: index of the dataset, which will appear in the filename</li></ul><p><strong>Reference</strong></p><p><a href="references/#Saidman2014">Susan L. Saidman, Alvin E. Roth, Tayfun Sonmez, M. Utku Unver, Francis L. Delmonico (2014)</a></p><p>&quot;Increasing the Opportunity of Live Kidney Donation by Matching for Two and Three Way Exchanges&quot;. S. L. Saidman, Alvin Roth, Tayfun Sonmez, Utku Unver, Frank Delmonico. Transplantation, Volume 81, Number 5, March 15, 2006.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/create_benchmark.jl#L5-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.generate_sparse_unos_instance-Tuple{Int64, Int64, Int64}" href="#KidneyExchange.generate_sparse_unos_instance-Tuple{Int64, Int64, Int64}"><code>KidneyExchange.generate_sparse_unos_instance</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generate_sparse_unos_instance</code></pre><p>Generate a KEP dataset and write in two text files with extensions .dat and .wmd. This generator is obtained by applying the Saidman generator with small modifications in the probabilities of compatibility to roughtly mimic the UNOS pool as of April 15, 2013.  The corresponding data was taken from the KPD Work Group Data Analysis - CMR - June 2013 report. Seel also the following article for the motivation and description of this generator: &quot;Optimizing Kidney Exchange with Transplant Chains: Theory and Reality&quot;. John P. Dickerson, Ariel D. Procaccia, Tuomas Sandholm; Proceedings of AAMAS; 2012</p><p><strong>Arguments</strong></p><ul><li><code>nb_pairs::Int</code>: number of pairs of incompatible donor and patient</li><li><code>nb_altruists::Int</code>: number of altruist donors</li><li><code>index::Int</code>: index of the dataset, which will appear in the filename</li></ul><pre><code class="nohighlight hljs"></code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/create_benchmark.jl#L28-L41">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.get_branching_arc-Tuple{Dict{Pair{Int64, Int64}, Float64}, Dict{Pair{Int64, Int64}, Float64}}" href="#KidneyExchange.get_branching_arc-Tuple{Dict{Pair{Int64, Int64}, Float64}, Dict{Pair{Int64, Int64}, Float64}}"><code>KidneyExchange.get_branching_arc</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_branching_arc</code></pre><p>Find a fractional arc to branch. The fractional arc closest to 0.5 will be selected to branch, if there is no fractional arc in the solution</p><p><strong>Input parameters</strong></p><ul><li><code>column_flow::Dict{Pair{Int,Int}, Float64}</code> : The dictionary containing the nonzero flow on each arc due to the selection of columns</li><li><code>pief_flow::Dict{Pair{Int,Int}, Float64}</code> : The dictionary containing the flow on each arc from the pief model for chain search (if applicable)</li></ul><p><strong>Output parameters</strong></p><ul><li><code>arc_to_branch::Pair{Int,Int}</code> : The arc to be branched</li><li><code>is_cg_branching::Bool</code>: True if the branching impacts the subproblem of the coluln generation, false if it impacts only the master problem</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/branch_and_price.jl#L213-L225">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.get_branching_vertex-Tuple{Graphs.SimpleGraphs.SimpleDiGraph, Dict{Pair{Int64, Int64}, Float64}, Dict{Pair{Int64, Int64}, Float64}}" href="#KidneyExchange.get_branching_vertex-Tuple{Graphs.SimpleGraphs.SimpleDiGraph, Dict{Pair{Int64, Int64}, Float64}, Dict{Pair{Int64, Int64}, Float64}}"><code>KidneyExchange.get_branching_vertex</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_branching_vertex</code></pre><p>Find a fractional vertex cover to branch. The fractional vertex closest to 0.5 will be selected to branch</p><p><strong>Input parameters</strong></p><ul><li><code>column_flow::Dict{Pair{Int,Int}, Float64}</code> : The dictionary containing the nonzero flow on each arc due to the selection of columns</li><li><code>pief_flow::Dict{Pair{Int,Int}, Float64}</code> : The dictionary containing the flow on each arc from the pief model for chain search (if applicable)</li></ul><p><strong>Output parameters</strong></p><ul><li><code>vertex_to_branch::Int</code> : The vertex to be branched on, nothing if none was found</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/branch_and_price.jl#L258-L268">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.get_feasible_solution-Tuple{Vector{Float64}, Vector{KidneyExchange.Column}}" href="#KidneyExchange.get_feasible_solution-Tuple{Vector{Float64}, Vector{KidneyExchange.Column}}"><code>KidneyExchange.get_feasible_solution</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_feasible_solution</code></pre><p>Extract a integer feasible solution from the fractional solution by conserving a set of vertex-disjoint cycles or chains</p><p><strong>Arguments</strong></p><ul><li><code>fractional_solution::Array{Array{Float64,1},1}</code>: The set of value of variables indicating whether or not cycles and chains are selected</li><li><code>node_columns::Array{Array{Column,1},1}</code>: The set of cycles and chains associated with variables</li></ul><p>#Output parametes</p><ul><li><code>feas_val::Real</code>:  The objective value of the feasible solution</li><li><code>columns::Array{Array{Int,1},1}</code>: The set of selected cycles and chains of the feasible solution</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/node.jl#L434-L446">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.initialize_column_pool" href="#KidneyExchange.initialize_column_pool"><code>KidneyExchange.initialize_column_pool</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">initialize_column_pool</code></pre><p>Initialize the pool of columns for the branch-and-price by enumerating all k-cycles up to an input maximum value of k.</p><p><strong>Input parameters</strong></p><p>*<code>graph::SimpleDiGraph</code>: The KEP graph *<code>column_pool::Vector{Column}</code>: Pool of columns where initial columns will be pushed *<code>max_cycle_length::Int</code>: Maximum length of the cycles to be enumerated at initialization (0 if initialization is deactivated)</p><p><strong>Output parameters</strong></p><ul><li><code>column_pool::Vector{Column}</code> : set of columns initially added to the master problem</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/branch_and_price.jl#L383-L394">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.initialize_master_IP" href="#KidneyExchange.initialize_master_IP"><code>KidneyExchange.initialize_master_IP</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">initialize_master_IP</code></pre><p>Initialization of the master problem with integer columns</p><p><strong>Arguments</strong></p><ul><li><code>instance::Instance</code>: The parsed instance that is to be solved, it contains the KEP graph and the bounds on the length of covering cycles and chains.</li><li><code>column_pool::Vector{Column}</code>: the set of initial columns of the master</li><li><code>bp_params::BP_params</code>: parameters of the branch-and-price</li><li><code>time_limit::Float64</code>: time limit for each solution of the master relaxation</li></ul><p><strong>Return values</strong></p><ul><li><code>master::Model</code>: the model of the restricted master problem</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/master.jl#L173-L186">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.isDonorSpouse-Tuple{KidneyExchange.PoolGenerator}" href="#KidneyExchange.isDonorSpouse-Tuple{KidneyExchange.PoolGenerator}"><code>KidneyExchange.isDonorSpouse</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Draws a random spousal relationship between donor and patient @return true if willing donor is patient&#39;s spouse, false otherwise</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/saidman_pool_generator.jl#L98-L101">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.isPatientFemale-Tuple{KidneyExchange.PoolGenerator}" href="#KidneyExchange.isPatientFemale-Tuple{KidneyExchange.PoolGenerator}"><code>KidneyExchange.isPatientFemale</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Draws a random gender from the US waitlist distribution  @return true if patient is female, false otherwise</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/saidman_pool_generator.jl#L89-L93">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.isPositiveCrossmatch-Tuple{Float64}" href="#KidneyExchange.isPositiveCrossmatch-Tuple{Float64}"><code>KidneyExchange.isPositiveCrossmatch</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Random roll to see if a patient and donor are crossmatch compatible @param pr_PraIncompatibility probability of a PRA-based incompatibility @return true is simulated positive crossmatch, false otherwise</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/saidman_pool_generator.jl#L107-L111">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.node_master" href="#KidneyExchange.node_master"><code>KidneyExchange.node_master</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">node_master</code></pre><p>Initialization of the restricted master problem</p><p><strong>Arguments</strong></p><ul><li><code>instance::Instance</code>: The parsed instance that is to be solved, it contains the KEP graph and the bounds on the length of covering cycles and chains.</li><li><code>column_pool::Vector{Column}</code>: the set of initial columns of the master</li><li><code>bp_params::BP_params</code>: parameters of the branch-and-price</li><li><code>time_limit::Float64</code>: time limit for each solution of the master relaxation</li></ul><p><strong>Return values</strong></p><ul><li><code>master::Model</code>: the model of the restricted master problem</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/master.jl#L1-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.preprocess_graph_copies" href="#KidneyExchange.preprocess_graph_copies"><code>KidneyExchange.preprocess_graph_copies</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">preprocess_graph_copies</code></pre><p>Get the data of each graph copy used in the subproblems of the column generation. The graph copies are charaterized by a source vertex and the set of vertices (optionally set of arcs) kept in the copy. Each altruist donor is the source of one graph copy. Preprocessing the vertices that can be reached with a given maximum number of arcs does not bring any improvement to the subproblem solution, so we do nothing at this stage.</p><p>For the other copies, either each donor/patient pair is the source of one copy, or we compute a feedback vertex set (FVS) that heuristically minimizes the cardinality of the set.  Each vertex of the FVS will then be the source of one copy in the column generation subproblems. In both cases, we then compute distances from and to the source in each subgraph. These will be used in the Bellman-Ford search at each solution of the subproblems.</p><p><strong>Input parameters</strong></p><ul><li><code>instance::Instance</code> : The structure describing the characteristics of an instance including the compatibility graph</li><li><code>reduce_arcs::Bool</code> : A boolean parameter indicating whether or not arcs that are not useful in a copy should be eliminated from it (default value is false)</li><li><code>reduce_vertices::Bool</code> : A boolean parameter indicating whether or not vertices that are not useful in copy should be eliminated from it (default value is true)</li><li><code>fvs::Bool</code> : True if the copies correspond to an FVS, false if there is one copy per donor/patient pair</li></ul><p><strong>Output parameters</strong></p><ul><li><code>subgraphs::Graph_copies</code> : The structure describing the preprocessed data of the graph copies</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/preprocessing.jl#L1-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.print_and_check_solution" href="#KidneyExchange.print_and_check_solution"><code>KidneyExchange.print_and_check_solution</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">print_and_check_solution</code></pre><p>Function that prints the main characteristics of a solution and check that it satisfies all teh constraints</p><p><strong>Input parameters</strong></p><ul><li><code>cycles::Vector{Vector{Int}}</code>: list of cycles in the solution to display</li><li><code>chains::Vector{Vector{Int}}</code>: list of chains in the solution to display</li><li><code>instance::Instance</code>: KEP instance whose solution it is</li><li><code>verbose::Bool</code>: true if the characteristics of the solution are printed, false if only the verification need be done</li></ul><p><strong>Output parameters: None</strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/utils.jl#L15-L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.process_node-Tuple{KidneyExchange.TreeNode, KidneyExchange.Instance, JuMP.Model, KidneyExchange.Graph_copies, KidneyExchange.BP_status, Vector{KidneyExchange.Column}, BP_params, JuMP.Model, TimerOutput, Float64}" href="#KidneyExchange.process_node-Tuple{KidneyExchange.TreeNode, KidneyExchange.Instance, JuMP.Model, KidneyExchange.Graph_copies, KidneyExchange.BP_status, Vector{KidneyExchange.Column}, BP_params, JuMP.Model, TimerOutput, Float64}"><code>KidneyExchange.process_node</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">process_node</code></pre><p>Columns generation of the node</p><p>#Input parameter</p><ul><li><code>tree_node::TreeNode</code>: Branch-and-bound node to solve with column generation</li></ul><p>#Output parameter</p><ul><li><code>column_flow::Dict{Pair{Int,Int}, Float64}</code>: value of x_(i,j) of arc (i-&gt;j)`</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/node.jl#L1-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.read_kep_file-Tuple{AbstractString, AbstractString}" href="#KidneyExchange.read_kep_file-Tuple{AbstractString, AbstractString}"><code>KidneyExchange.read_kep_file</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">read_kep_file</code></pre><p>Contruct a KEP graph from a <code>.wmd</code> and a <code>.dat</code> input files</p><p><strong>Parameters</strong></p><ul><li><code>wmd_file::String</code> : Absolute path of the <code>.wmd</code> file.</li><li><code>dat_file::String</code> : Absolute path of the <code>.dat</code> file.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/io_kep_file.jl#L1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.relaxed_arc" href="#KidneyExchange.relaxed_arc"><code>KidneyExchange.relaxed_arc</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">relaxed_arc_deterministic</code></pre><p>Deterministic relaxed-arc formulation for a KEP problem. No cycle length limitation is imposed.</p><p><strong>Parameters</strong></p><ul><li><code>instance::Instance</code>: KEP instance to solve</li><li><code>maxtime::Real=60</code> : Maximum solving time in seconds</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/models/relaxed_arc.jl#L1-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.solve_with_BP" href="#KidneyExchange.solve_with_BP"><code>KidneyExchange.solve_with_BP</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">solve_with_BP</code></pre><p>This is the main function to call for an execution of the branch-and-price algorithm on input file with given bounds on the length of covering cycles and chains and given options</p><p><strong>Arguments</strong></p><ul><li><code>filename::String</code>: path of the input data files, this should include the name of the files, but not the .dat and .wmd extensions</li><li><code>K::Int</code>: maximum length of cycles</li><li><code>L::Int</code>: maximum length of chains</li><li><code>bp_params::BP_params</code>: solution parameters of the branch-and-price</li><li><code>timer::TimerOutput</code>: a timer that will provide detail of where the computational time was spent during the branch-and-price</li><li><code>time_limit::Float64</code>: time limit of the algorithm, including parsing and prepreprocessing times</li></ul><p>#Output parametes</p><ul><li><code>instance::Instance</code>: The parsed instance that is to be solved, it contains the KEP graph and the bounds on the length of covering cycles and chains.</li><li><code>subgraphs::Graph_copies</code>: Description of the graph copies of the extended edge formulation</li><li><code>bp_status::BP_status</code>:  Structure containing every relevant information on the execution of the algorithm (including the optimal solution)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/branch&amp;price/branch_and_price.jl#L6-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.solve_with_mip" href="#KidneyExchange.solve_with_mip"><code>KidneyExchange.solve_with_mip</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">solve_with_mip</code></pre><p>This is the main function to call to solve the input instance with given bounds on the length of covering cycles and chains and given options</p><p><strong>Arguments</strong></p><ul><li><code>filename::String</code>: path of the input data files, this should include the name of the files, but not the .dat and .wmd extensions</li><li><code>K::Int</code>: maximum length of cycles</li><li><code>L::Int</code>: Maximum length of chains</li><li><code>params::MIP_params</code>: parameters of the MIP model and solver</li><li><code>timer::TimerOutput</code>: a timer that will provide detail of where the computational time was spent during the branch-and-price</li><li><code>time_limit::Float64</code>: time limit of the algorithm, including parsing and prepreprocessing times</li></ul><p>#Output parametes</p><ul><li><code>instance::Instance</code>: The parsed instance that is to be solved, it contains the KEP graph and the bounds on the length of covering cycles and chains.</li><li><code>subgraphs::Graph_copies</code>: Description of the graph copies of the extended edge formulation</li><li><code>bp_status::BP_status</code>:  Structure containing every relevant information on the execution of the algorithm (including the optimal solution)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/models/mip.jl#L5-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="KidneyExchange.write_kep_file-Tuple{Graphs.SimpleGraphs.SimpleDiGraph, Matrix{Float64}, Vector{KidneyExchange.Blood_type}, Vector{KidneyExchange.Blood_type}, BitArray, Vector{Float64}, BitArray, String}" href="#KidneyExchange.write_kep_file-Tuple{Graphs.SimpleGraphs.SimpleDiGraph, Matrix{Float64}, Vector{KidneyExchange.Blood_type}, Vector{KidneyExchange.Blood_type}, BitArray, Vector{Float64}, BitArray, String}"><code>KidneyExchange.write_kep_file</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">write_kep_file</code></pre><p>Write a <code>.wmd</code> and a <code>.dat</code> files to store the input KEP graph in the same form as in Preflib. Store the files in ./data directory.</p><p><strong>Parameters</strong></p><ul><li><code>kep_graph::SimpleDiGraph</code>: KEP graph to write</li><li><code>edge_weight::Matrix{Float64}</code>: weight of each eadge of the KEP graph</li><li><code>donorBT::Vector{Blood_type}</code>: blood type of the donor of each pair</li><li><code>patientBT::Vector{Blood_type}</code>: blood type of the patient of each pair</li><li><code>wifeP::BitArray</code>: for each pair true iff the donor and patient are married</li><li><code>patientPRA::Vector{Float64}</code>: PRA of the patient of each pair</li><li><code>is_altruist::BitArray</code>: for each pair, true if the donor is an altruist donor</li><li><code>file_name::String</code>: Name of the files (before the extensions)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jeremyomer/KidneyExchange.jl/blob/94cf2b60fa7106b7385f372c98d1c72ece83e3a9/src/instance/io_kep_file.jl#L77-L91">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="references/">References »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.12 on <span class="colophon-date" title="Friday 28 January 2022 15:49">Friday 28 January 2022</span>. Using Julia version 1.7.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
